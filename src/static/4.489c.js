(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{104:function(t,e,n){t.exports={title:"Note_1yJ115lcDR"}},245:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(77),i=n(2),c=n(8),u=n(20),l=n(76),f=n(104),s=n.n(f);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.default=function(){var t=Object(i.f)(),e=Object(i.h)().id,n=d(Object(r.useState)("",[f]),2),f=n[0],v=n[1],y=Object(u.a)(e,c.a.note,{retry:!1,refetchOnWindowFocus:!1}),b=y.error,p=y.isLoading,m=y.data;Object(r.useEffect)((function(){m&&v(m.title)}),[m]);if(b||p)return o.a.createElement("div",null,"Loading...");var h=l.EditorState.createWithContent(Object(l.convertFromRaw)(JSON.parse(m.content)));return o.a.createElement("div",null,o.a.createElement("input",{className:s.a.title,type:"text",value:f,onChange:function(t){v(t.target.value)}}),o.a.createElement(a.a,{editorConfig:{editorState:h},onSubmit:function(n){var r=n.getCurrentContent();if(r.hasText()&&f.length>0){var o=JSON.stringify(Object(l.convertToRaw)(r));c.a.editNote({title:f,content:o,id:e}).then((function(){alert("success."),t.push("/")})).catch((function(t){404===t.status&&alert("not fount, create new note?")}))}}}))}},77:function(t,e,n){"use strict";var r=n(0),o=n.n(r),a=n(76),i=(n(102),n(82)),c=n.n(i),u=n(103),l=n.n(u);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.a=function(t){var e=t.submitText,n=void 0===e?"submit":e,i=t.onSubmit,u=void 0===i?function(){}:i,d=t.editorConfig,v=void 0===d?{}:d,y=s(Object(r.useState)((function(){return v.editorState?v.editorState:a.EditorState.createEmpty()})),2),b=y[0],p=y[1],m=Object(r.useRef)(null);return o.a.createElement("div",{className:c.a.container},o.a.createElement("div",{className:l()(c.a.editorContainer,v.readOnly&&c.a.readOnly),onClick:function(){m.current.focus()}},o.a.createElement(a.Editor,f({},v,{ref:m,editorState:b,onChange:p}))),!v.readOnly&&o.a.createElement("button",{onClick:function(){return u(b)}},n))}},82:function(t,e,n){t.exports={editorContainer:"Editor_NAYGGpdxJN",readOnly:"Editor_2i4f8Ifv5g",container:"Editor_2kCROr9gmv"}}}]);
//# sourceMappingURL=4.489c.js.map