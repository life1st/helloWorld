(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(t,e,n){t.exports={editorContainer:"Editor_2PhySOo0ox",readOnly:"Editor_2OuOltIoIB",container:"Editor_1NXcSSwe2z"}},101:function(t,e,n){"use strict";var r=n(0),o=n.n(r),a=n(90),i=(n(140),n(100)),c=n.n(i),u=n(141),l=n.n(u),f=(n(142),n(9),function(t){var e=t.onUploaded,n=void 0===e?function(){}:e,a=Object(r.useRef)();return o.a.createElement("span",null,o.a.createElement("button",{onClick:function(){a.current.click()}},"Image"),o.a.createElement("input",{style:{display:"none"},ref:a,type:"file",onChange:function(){var t=a.current.files;t&&t.length>0&&n({url:"test."})}}))}),s=function(t){var e=t.onImageUpload,n=void 0===e?function(){}:e;return o.a.createElement("div",null,o.a.createElement(f,{onUploaded:function(t){return n(t)}}))};function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.a=function(t){var e=t.submitText,n=void 0===e?"submit":e,i=t.onSubmit,u=void 0===i?function(){}:i,f=t.editorConfig,y=void 0===f?{}:f;console.log(y.contentJSON);var m=v(Object(r.useState)(y.contentJSON?a.EditorState.createWithContent(Object(a.convertFromRaw)(JSON.parse(y.contentJSON))):a.EditorState.createEmpty()),2),p=m[0],b=m[1],g=Object(r.useRef)(null),h=function(){var t=p.getCurrentContent();console.log(Object(a.convertToRaw)(t))};return o.a.createElement("div",{className:c.a.container},!y.readOnly&&o.a.createElement(s,{onImageUpload:function(t){h();var e=p.getCurrentContent().createEntity("image","IMMUTABLE",{src:t.url}),n=e.getLastCreatedEntityKey(),r=a.EditorState.set(p,{currentContent:e});b(a.AtomicBlockUtils.insertAtomicBlock(r,n," ")),h(),g.current.focus()}}),o.a.createElement("div",{className:l()(c.a.editorContainer,y.readOnly&&c.a.readOnly),onClick:function(){g.current.focus()}},o.a.createElement(a.Editor,d({},y,{ref:g,blockRendererFn:function(t){console.log(t.type)},editorState:p,onChange:b}))),!y.readOnly&&o.a.createElement("button",{onClick:function(){return u(p)}},n))}},143:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},144:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},239:function(t,e,n){var r=n(240),o=n(241),a=o;a.v1=r,a.v4=o,t.exports=a},240:function(t,e,n){var r,o,a=n(143),i=n(144),c=0,u=0;t.exports=function(t,e,n){var l=e&&n||0,f=e||[],s=(t=t||{}).node||r,d=void 0!==t.clockseq?t.clockseq:o;if(null==s||null==d){var v=a();null==s&&(s=r=[1|v[0],v[1],v[2],v[3],v[4],v[5]]),null==d&&(d=o=16383&(v[6]<<8|v[7]))}var y=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:u+1,p=y-c+(m-u)/1e4;if(p<0&&void 0===t.clockseq&&(d=d+1&16383),(p<0||y>c)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=y,u=m,o=d;var b=(1e4*(268435455&(y+=122192928e5))+m)%4294967296;f[l++]=b>>>24&255,f[l++]=b>>>16&255,f[l++]=b>>>8&255,f[l++]=255&b;var g=y/4294967296*1e4&268435455;f[l++]=g>>>8&255,f[l++]=255&g,f[l++]=g>>>24&15|16,f[l++]=g>>>16&255,f[l++]=d>>>8|128,f[l++]=255&d;for(var h=0;h<6;++h)f[l+h]=s[h];return e||i(f)}},241:function(t,e,n){var r=n(143),o=n(144);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var c=0;c<16;++c)e[a+c]=i[c];return e||o(i)}},242:function(t,e,n){t.exports={title:"Note_32G5AHZ8SM"}},249:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(101),i=n(9),c=n(239),u=n(242),l=n.n(u),f=n(90),s=n(2);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(){var t=Object(s.f)(),e=Object(s.g)(),n=Object(s.h)(),u=d(Object(r.useState)(""),2),v=u[0],y=u[1],m=d(Object(r.useState)(null),2),p=m[0],b=m[1],g=e.pathname.includes("/edit"),h=g?n.id:Object(c.v1)();Object(r.useEffect)((function(){g&&i.a.note(h).then((function(t){y(t.title),b(t.content)}))}),[]);return g&&!p?o.a.createElement("div",null,"Loading..."):o.a.createElement("div",null,o.a.createElement("input",{className:l.a.title,type:"text",placeholder:"title",value:v,onChange:function(t){var e=t.target.value;y(e)}}),o.a.createElement(a.a,{onSubmit:function(e){var n=e.getCurrentContent();n.hasText()&&v.length>0&&(n=JSON.stringify(Object(f.convertToRaw)(n)),g?i.a.editNote({title:v,content:n,id:h}).then((function(e){alert("success.",e),t.replace("/note/".concat(h))})).catch((function(t){console.log("e",JSON.stringify(t)),404===t.status&&alert("not fount, create new note?")})):i.a.createNote({title:v,content:n,id:h}).then((function(e){console.log(e),alert("success"),t.replace("/note/".concat(h))})))},editorConfig:{contentJSON:p}}))}}}]);
//# sourceMappingURL=1.2530.js.map