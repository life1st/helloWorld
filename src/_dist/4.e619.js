(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{100:function(e,t,n){e.exports={editorContainer:"Editor_2PhySOo0ox",readOnly:"Editor_2OuOltIoIB",container:"Editor_1NXcSSwe2z"}},101:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(90),c=(n(140),n(100)),i=n.n(c),l=n(141),u=n.n(l),s=(n(142),n(9),function(e){var t=e.onUploaded,n=void 0===t?function(){}:t,a=Object(r.useRef)();return o.a.createElement("span",null,o.a.createElement("button",{onClick:function(){a.current.click()}},"Image"),o.a.createElement("input",{style:{display:"none"},ref:a,type:"file",onChange:function(){var e=a.current.files;e&&e.length>0&&n({url:"test."})}}))}),f=function(e){var t=e.onImageUpload,n=void 0===t?function(){}:t;return o.a.createElement("div",null,o.a.createElement(s,{onUploaded:function(e){return n(e)}}))};function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.submitText,n=void 0===t?"submit":t,c=e.onSubmit,l=void 0===c?function(){}:c,s=e.editorConfig,p=void 0===s?{}:s;console.log(p.contentJSON);var y=m(Object(r.useState)(p.contentJSON?a.EditorState.createWithContent(Object(a.convertFromRaw)(JSON.parse(p.contentJSON))):a.EditorState.createEmpty()),2),v=y[0],E=y[1],b=Object(r.useRef)(null),O=function(){var e=v.getCurrentContent();console.log(Object(a.convertToRaw)(e))};return o.a.createElement("div",{className:i.a.container},!p.readOnly&&o.a.createElement(f,{onImageUpload:function(e){O();var t=v.getCurrentContent().createEntity("image","IMMUTABLE",{src:e.url}),n=t.getLastCreatedEntityKey(),r=a.EditorState.set(v,{currentContent:t});E(a.AtomicBlockUtils.insertAtomicBlock(r,n," ")),O(),b.current.focus()}}),o.a.createElement("div",{className:u()(i.a.editorContainer,p.readOnly&&i.a.readOnly),onClick:function(){b.current.focus()}},o.a.createElement(a.Editor,d({},p,{ref:b,blockRendererFn:function(e){console.log(e.type)},editorState:v,onChange:E}))),!p.readOnly&&o.a.createElement("button",{onClick:function(){return l(v)}},n))}},243:function(e,t,n){e.exports={container:"Note_1r4czJoBEs",noteTitle:"Note_33TVEVF5Z5",meta:"Note_qjNvsCaKKG"}},246:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(60),c=n(9),i=n(2),l=n(101),u=n(243),s=n.n(u);t.default=function(){var e=Object(i.h)().id,t=Object(i.f)(),n=Object(a.a)(e,c.a.note,{retry:!1,refetchOnWindowFocus:!1}),r=n.isLoading,u=n.data;if(n.error&&t.replace("/"),r)return o.a.createElement("div",null,"Loading...");var f=u.user;return o.a.createElement("div",{className:s.a.container},o.a.createElement("h1",{className:s.a.noteTitle},u.title),o.a.createElement("p",{className:s.a.meta},o.a.createElement("span",null,f.name),o.a.createElement("button",{onClick:function(){t.push("/note/".concat(e,"/edit"))}},"Edit"),o.a.createElement("button",{onClick:function(){confirm("ensure delete this note: ".concat(u.title," ?"))&&c.a.deleteNote(e).then((function(){t.push("/")}))}},"Delete")),o.a.createElement(l.a,{editorConfig:{readOnly:!0,contentJSON:u.content}}),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){t.push("/")}},"Back Home")))}}}]);
//# sourceMappingURL=4.e619.js.map